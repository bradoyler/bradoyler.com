<!doctype html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <script>
    document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'has-js ';
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Planning to change the world with software built for humans.">
  <meta name="news_keywords" content="Brad Oyler, Web Developer, Software Engineer, UX, HCI, Dataviz, Nodejs, Javascript" />
  <meta name="standout" content="https://bradoyler.com/projects\d3-node/" />
  <meta property="og:site_name" content="{ Brad Oyler }" />
  <meta property="og:description" content="Planning to change the world with software built for humans." />
  <meta property="og:title" content="D3-Node - Brad Oyler" />
  <meta property="og:url" content="https://bradoyler.com/projects\d3-node/" />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://bradoyler.com/assets/images/d3-node.png" />
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@bradoyler" />
  <meta name="twitter:title" content="D3-Node - Brad Oyler" />
  <meta name="twitter:description" content="Planning to change the world with software built for humans." />
  <meta name="twitter:creator" content="@bradoyler" />
  <meta name="twitter:domain" content="https://bradoyler.com>" />
  <meta name="twitter:image:src" content="https://bradoyler.com/assets/images/d3-node.png" />
  <title>D3-Node - Brad Oyler</title>
  <link rel="author" href="humans.txt" />
  <link rel="icon" href="/assets/images/avatar.png">
  <link rel="stylesheet" href="/styles/main.css">
  <!-- production v0.0.1 -->
</head>
<body id="top" class="-page" itemscope itemtype="http://schema.org/WebPage">
  <div class="nav--menu">
    <header class="site-header">
      <div>
        <a href="/">
          <img class="nav-avatar" src="/assets/images/avatar_400x400.jpg">
        </a>
      </div>
      <h1 class="site-title site-title--name" itemprop="name">
        <a href="/">{ Brad Oyler }</a>
      </h1>
      <p class="site-title site-title--sub" itemprop="specialty">Developer</p>
      <button title="Site Menu" id="js-toggle-menu" class="button--menu" aria-label="Site Menu">
        <svg class="button--menu-open" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
          <path fill="#fff" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
    	H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
    	C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/>
        </svg>
        <svg class="button--menu-close" version="1.1" id="Cross" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">
          <path fill="#fff" d="M14.348,14.849c-0.469,0.469-1.229,0.469-1.697,0L10,11.819l-2.651,3.029c-0.469,0.469-1.229,0.469-1.697,0
    	c-0.469-0.469-0.469-1.229,0-1.697l2.758-3.15L5.651,6.849c-0.469-0.469-0.469-1.228,0-1.697c0.469-0.469,1.228-0.469,1.697,0
    	L10,8.183l2.651-3.031c0.469-0.469,1.228-0.469,1.697,0c0.469,0.469,0.469,1.229,0,1.697l-2.758,3.152l2.758,3.15
    	C14.817,13.62,14.817,14.38,14.348,14.849z"/>
        </svg>
      </button>
    </header>
    <nav id="js-menu" class="nav" itemprop="breadcrumb">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/projects">Projects</a></li>
        <li><a href="/blog">Blog</a></li>
      </ul>
    </nav>
  </div>
  <div class="layout--main">
    <div class="container">
    <main>
  <article class="article--post" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="meta--post--l">
    <div class="row">
      <div class="meta--container meta--container-post">
        <div class="meta--txt meta--heading">
          <span class="meta meta--primary"><a class="meta--link" href="/projects">projects</a></span>
        </div>
      </div>
      <div class="meta--container meta--container-post">
        <div class="meta--txt meta--heading">
          <time class="meta meta--primary" datetime="2016-07-13T00:00:00.000Z" itemprop="datePublished">Jul 12, 2016</time>
        </div>
      </div>
    </div>
  </div>
    <header class="article--header">
      <h1 itemprop="headline">D3-Node</h1>
      <p class="dek dek--lg">Server-side D3 for static chart/map generation via Node.js</p>
    </header>
    <div class="article--body" itemprop="articleBody">
      <figure>
  <img src="/assets/images/d3-node.png" alt="Homepage on Desktop">
  <figcaption>Example choropleth using population data of France and topojson from Atlas-Make.</figcaption>
</figure>

<h3 id="why-">Why?</h3>
<ul>
<li>Performance: pre-rendering allows offloading data processing, and network overhead</li>
<li>Take advantage of the entire ecosystem: npmjs.com</li>
<li>Static rendering of Data-Driven Documents (D3.js)</li>
<li>Portable <span class="caps">SVG</span> with embedded stylesheets</li>
<li>Easily adapt examples from bl.ocks.org</li>
</ul>
<h3 id="basic-usage-">Basic usage:</h3>
<p><a href="https://nodei.co/npm/d3-node/"><img src="https://nodei.co/npm/d3-node.png?downloads=true&amp;downloadRank=true" alt="NPM"></a></p>
<pre><code class="lang-javascript"> var D3Node = require(&#39;d3-node&#39;)
 var d3 = D3Node.d3
 var d3n = new D3Node()    // create instance
 d3.select(d3n.document.body).append(&#39;span&#39;) // select &lt;body&gt; &amp; insert span
 d3n.html() // returns: &lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;span&gt;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre>
<p><strong><span class="caps">SVG</span> creation</strong></p>
<pre><code class="lang-javascript"> var d3n = new D3Node()      // initializes D3 with container element
 d3n.createSVG().append(&#39;g&#39;) // create SVG w/ &#39;g&#39; tag
 d3n.svgString() // output: &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;&lt;g&gt;&lt;/g&gt;&lt;/svg&gt;
</code></pre>
<h3 id="advanced-usage">Advanced usage</h3>
<p><strong>Setting container &amp; insertion point via selector</strong></p>
<pre><code class="lang-javascript"> var options = { selector: &#39;#chart&#39;, container: &#39;&lt;div id=&quot;container&quot;&gt;&lt;div id=&quot;chart&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39; }
 var d3n = new D3Node(options) // initializes D3 with container element
 var d3 = d3n.d3
 d3.select(d3n.document.querySelector(&#39;#chart&#39;)).append(&#39;span&#39;) // insert span tag into #chart
 d3n.html()   // output: &lt;html&gt;&lt;body&gt;&lt;div id=&quot;container&quot;&gt;&lt;div id=&quot;chart&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;               
</code></pre>
<p><strong>Inline <span class="caps">SVG</span> styles</strong></p>
<pre><code class="lang-javascript"> var d3n = new D3Node({styles:&#39;.test {fill:#000;}&#39;})
 d3n.createSVG().append(&#39;g&#39;)
 d3n.svgString()
</code></pre>
<blockquote>
<p>Output
<code>`</code>html</p>
</blockquote>
<p><svg xmlns="http://www.w3.org/2000/svg">
   <defs>
     <style type="text/css">&lt;![CDATA[ .test{fill:#000;} ]]&gt;</style>
   </defs>
   <g></g></p>
<p><svg>
<code>`</code></p>
<p>See more <a href="https://github.com/bradoyler/d3-node/blob/master/examples/README.md">D3-Node examples</a></p>

    </div>
  </article>
  <nav class="nav nav--post row">
      <div class="nav--prev">
        <h2 class="nav--post-heading">Atlas-Make</h2>
        <p class="dek dek--sm">Makefile toolbelt for building geojson, topojson &amp; csv from public Shape files</p>
      </div>
      <div class="nav--post-button">
        <a class="button--link" href="/projects/atlas-make">Previous</a>
      </div>
      <div class="nav--next">
        <h2 class="nav--post-heading">Newsblock</h2>
        <p class="dek dek--sm">A modern news aggregator that combines ‘topic relevance’ and ‘social trends’ to recommend the best stories.</p>
      </div>
      <div class="nav--post-button">
        <a class="button--link" href="/projects/newsblock">Next</a>
      </div>
  </nav>
<div id="disqus_thread"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//bradoyler.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </main>
  <footer class="row">
    <div class="newsletter--l">
    </div>
    <div class="footer--nav--l">
      <nav class="footer--nav row">
        <div class="footer--col--l">
          <div><a href="https://twitter.com/@bradoyler" target="_blank">Twitter</a></div>
          <div><a href="http://linkedin.com/in/bradoyler/" target="_blank">LinkedIn</a></div>
        </div>
        <div class="footer--col--l">
          <div><a href="https://github.com/bradoyler" target="_blank">GitHub</a></div>
          <div><a href="https://github.com/bradoyler/bradoyler.com" target="_blank">Site Source</a></div>
        </div>
      </nav>
    </div>
    <div class="back-to-top--l">
      <div class="footer--col--l">
        <a class="button--link" href="#top">Back to Top</a>
      </div>
    </div>
  </footer>
  </div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/scripts/main.js"></script>
<script src="/scripts/prism.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-372716-12', 'auto');
  ga('send', 'pageview');
</script></body>
</html>